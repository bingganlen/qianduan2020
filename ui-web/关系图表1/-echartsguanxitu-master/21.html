<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>ECharts</title>
    <!-- 引入 echarts.js -->
    <script src="echarts.min.js"></script>
</head>

<body>
    <!-- 为ECharts准备一个具备大小（宽高）的Dom -->
    <div id="main" style="width: 1200px;height:600px;"></div>
    <script type="text/javascript">
        // 基于准备好的dom，初始化echarts实例
        var myChart = echarts.init(document.getElementById("main"));
        data = {
            name: "沙头角水厂11111",
            children: [{
                    name: "梧桐苑2221"
                },
                {
                    name: "盐田管网所2221",
                    children: [{
                        name: "盐田党校330"
                    }]
                },
                {
                    name: "边检生活小区2221"
                },
                {
                    name: "山泉小区2221",
                    children: [{
                            name: "黄金珠宝大厦2221"
                        }, {
                            name: "沙头角街道办330",
                            children: [{
                                    name: "桥东社康330"
                                },
                                {
                                    name: "盐田区政府330"
                                }
                            ]
                        },
                        {
                            name: "海荣居2221"
                        },
                        {
                            name: "鹏湾一村2221",
                            children: [{
                                name: "盐田市场监督局330",
                                children: [{
                                    name: "海滨制药厂330"
                                }]
                            }]
                        },

                        {
                            name: "鹏湾二村2221",
                            children: [{
                                name: "海涛花园330",
                                children: [{
                                    name: "东埔海景二期330"
                                }]
                            }]
                        },


                    ]
                },


            ]
        };
        /*       console.log(data) */

        option = {
            series: [{
                type: "tree",
                name: "tree2",
                data: [data],
                top: "10%",
                bottom: "12%",
                right: "25%",
                height: "230",
                left: "7%",
                symbolSize: 8,
                symbol: "circle",
                // 展开发的层级数
                initialTreeDepth: 10,
                itemStyle: {
                    color: "#9D85FB",
                    borderColor: "#9D85FB"
                },
                label: {
                    normal: {
                        position: "bottom",
                        verticalAlign: "left",
                        align: "center",
                        fontSize: 9,
                        distance: -10,
                        /*  padding: [10, 0, 5, 0], */
                        padding: [10, 0, 0, 0],
                        formatter: function (dat) {
                            console.log(dat.name);
                            var num = dat.name.replace(/[^0-9]/gi, "");
                            num = num.substring(0, num.length - 1);
                            var reg = /[\u4e00-\u9fa5]/g;
                            var names = dat.name.match(reg);
                            hz = names.join("") + ":";
                            /* alert(dat.name.charAt(dat.name.length-1)) */
                            /*  var arr = [
                              "{gray|" + hz + "}",
                              "{green|$ " + num + "}"
                            ]; */
                            var aa = dat.name.charAt(dat.name.length - 1);
                            var arr = [];
                            if (aa < 1) {
                                arr = ["{gray|" + hz + "}", "{green|" + num + "}"];
                            } else {
                                arr = ["{gray|" + hz + "}", "{gren|" + num + "}"];
                            }
                            /* return arr.join("\n"); */
                            return arr;
                        },

                        rich: {
                            gray: {
                                color: "red",
                                fontSize: 12,
                                padding: [0, 5, 0, 0]
                            },
                            green: {
                                color: "#fff",
                                backgroundColor: "red",
                                width: "3",
                                height: "14",
                                align: "center"
                            },
                            gren: {
                                color: "green"
                            }
                        }
                    }
                },
                // 线的样式
                lineStyle: {
                    color: "#9D85FB",
                    curveness: "0.5"
                },
                leaves: {
                    label: {
                        normal: {
                            // 叶子节点字的样式
                            /*  position: 'left',
                                        verticalAlign: 'top',
                                        align: 'left', */
                            position: "right",
                            verticalAlign: "middle",
                            align: "left",
                            fontSize: 12,
                            distance: 10,
                            padding: [0, 5, 0, 0]
                        }
                    }
                },
                expandAndCollapse: true,
                animationDuration: 550,
                animationDurationUpdate: 750
            }]
        };
        // 使用刚指定的配置项和数据显示图表。
        myChart.setOption(option);
    </script>
</body>

</html>